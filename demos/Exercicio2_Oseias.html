<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Blockly Demo: Toolbox</title>
  <script src="../blockly_compressed.js"></script>
  <script src="../blocks_compressed.js"></script>
  <script src="../javascript_compressed.js"></script>
  <script src="../msg/js/en.js"></script>
    <script>
    var demoWorkspace = Blockly.inject('blocklyDiv',
        {media: '../../media/',
         toolbox: document.getElementById('toolbox')});
    Blockly.Xml.domToWorkspace(document.getElementById('startBlocks'),
                               demoWorkspace);

    function showCode() {
      // Generate JavaScript code and display it.
      Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
      var code = Blockly.JavaScript.workspaceToCode(demoWorkspace);
      alert(code);
    }

    function runCode() {
      // Generate JavaScript code and run it.
      window.LoopTrap = 1000;
      Blockly.JavaScript.INFINITE_LOOP_TRAP =
          'if (--window.LoopTrap == 0) throw "Infinite loop.";\n';
      var code = Blockly.JavaScript.workspaceToCode(demoWorkspace);
      Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
      try {
        eval(code);
      } catch (e) {
        alert(e);
      }
    }
  </script>
  <style>
    body {
      background-color: #fff;
      font-family: sans-serif;
    }
    h1 {
      font-weight: normal;
      font-size: 140%;

    }
  </style>
</head>
<body>
  <div>
    <fieldset style="color:blue">
    <legend>Usuario</legend>
      <label> Oseias Jr </label><br>
      <label>Score atual: 1500 pontos</label>
    </fieldset>
  </div>

  <div>
    <fieldset style="color:blue">
      <legend>Problema</legend>
      <label>Exiba o total da soma 1 + 4 + 7 .... + 22</label> 
    </fieldset>
  </div>
  <fieldset>
      <p>
    <button onclick="showCode()">Show JavaScript</button>
    <button onclick="runCode()">Run JavaScript</button>
  </p>
  </fieldset>
  <div id="blocklyDiv" style="height: 600px; width: 800px;"></div>

  <xml id="toolbox" style="display: none">


    <category name="Loops">
     <block type="variables_set" id="set_n_initial" inline="true" x="20" y="20">
      <field name="VAR">Soma</field>
      <value name="VALUE">
      </value>
      </block>
      <block type="math_arithmetic"></block>
      <block type="math_number">
            <field name="NUM">0</field>
          </block>
      <block type="controls_for">
        <field name="VAR">i</field>
        <value name="FROM">
          <block type="math_number">
            <field name="NUM">1</field>
          </block>
        </value>
        <value name="TO">
          <block type="math_number">
            <field name="NUM">22</field>
          </block>
        </value>
        <value name="BY">
          <block type="math_number">
            <field name="NUM">3</field>
          </block>
        </value>
      </block>
      
      <block type="text_print"></block>
      <block type="variables_get"><field name="VAR">i</field></block>
    </category>
  </xml>

  <script>
    var demoWorkspace = Blockly.inject('blocklyDiv',
        {media: '../../media/',
         toolbox: document.getElementById('toolbox')});
  </script>

</body>
</html>
